version: 1.0
runtime: python3

build:
  commands:
    build:
      # This command runs from the root, so we change directory into 'backend'
      - cd backend
      # Now that we are inside 'backend', we can install the requirements
      - pip install -r requirements.txt

run:
  # The run command also starts from the root, so we must cd into 'backend' first
  command: cd backend && uvicorn app.main:app --host 0.0.0.0 --port 8080
  network:
    port: 8080